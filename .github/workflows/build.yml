name: Build GBA Tile Editor
on:
    push:
        branches:
            - master
        tags:
            - v*
jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - name: Install Qt
              run: sudo apt install qt5-default
            - name: Checkout repository
              uses: actions/checkout@v2
            - name: Generate Makefile
              run: qmake gba-tileeditor.pro
            - name: Build gba-tileeditor
              run: make -j$(nproc)
            - name: Upload executable
              uses: actions/upload-artifact@v2
              with:
                name: gba-tileeditor
                path: gba-tileeditor